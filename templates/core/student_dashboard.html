{% extends 'core/base.html' %}
{% block content %}
<div class="container mt-4">
    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ user.get_full_name|default:user.username }}!</h2>
    <p class="text-muted">–ì—Ä—É–ø–ø–∞: <strong>{{ user.study_group }}</strong></p>

    <div class="mb-4">
        <a href="{% url 'core:student_journal' %}" class="btn btn-info">üìä –ñ—É—Ä–Ω–∞–ª –æ—Ü–µ–Ω–æ–∫</a>
    </div>

    <!-- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ -->
    {% if schedule %}
        <div class="card mb-4">
            <div class="card-header bg-warning text-dark">
                <h4 class="mb-0">üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–π –≥—Ä—É–ø–ø—ã</h4>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead class="table-light">
                            <tr>
                                <th>–î–µ–Ω—å</th>
                                <th>–í—Ä–µ–º—è</th>
                                <th>–ü—Ä–µ–¥–º–µ—Ç</th>
                                <th>–ö–∞–±–∏–Ω–µ—Ç</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for item in schedule %}
                                <tr>
                                    <td><strong>{{ item.get_day_of_week_display }}</strong></td>
                                    <td>{{ item.time }}</td>
                                    <td>{{ item.subject }}</td>
                                    <td>{{ item.room|default:"‚Äî" }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    {% endif %}

    <!-- –ü—Ä–µ–¥–º–µ—Ç—ã -->
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">üìö –í–∞—à–∏ –ø—Ä–µ–¥–º–µ—Ç—ã</h4>
        </div>
        <div class="card-body">
            {% if subjects %}
                <div class="list-group">
                {% for subject in subjects %}
                    <a href="{% url 'core:subject_detail' subject.id %}" class="list-group-item list-group-item-action">
                        {{ subject.name }} ({{ subject.modules.count }} –º–æ–¥—É–ª–µ–π)
                    </a>
                {% endfor %}
                </div>
            {% else %}
                <p class="text-muted">–ù–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–æ–≤</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
